import random

# Configura√ß√µes do jogo
TAMANHO_TABULEIRO = 5
NUM_NAVIOS = 3
TENTATIVAS = 7

# Inicializa o tabuleiro
tabuleiro = [["~"] * TAMANHO_TABULEIRO for _ in range(TAMANHO_TABULEIRO)]

# Gera posi√ß√µes aleat√≥rias para os navios (sem sobreposi√ß√£o)
navios = set()
while len(navios) < NUM_NAVIOS:
    linha = random.randint(0, TAMANHO_TABULEIRO - 1)
    coluna = random.randint(0, TAMANHO_TABULEIRO - 1)
    navios.add((linha, coluna))

# Fun√ß√£o para exibir o tabuleiro ao jogador
def mostrar_tabuleiro():
    for linha in tabuleiro:
        print(" ".join(linha))
    print()

# Jogo come√ßa
print("üéØ Bem-vindo √† Batalha Naval!")
print(f"Voc√™ tem {TENTATIVAS} tentativas para encontrar {NUM_NAVIOS} navios.\n")

acertos = 0
tentativas_restantes = TENTATIVAS

while tentativas_restantes > 0 and acertos < NUM_NAVIOS:
    mostrar_tabuleiro()
    
    try:
        linha = int(input("Digite a linha (0-4): "))
        coluna = int(input("Digite a coluna (0-4): "))
    except ValueError:
        print("‚ùå Entrada inv√°lida. Digite n√∫meros entre 0 e 4.\n")
        continue

    if not (0 <= linha < TAMANHO_TABULEIRO and 0 <= coluna < TAMANHO_TABULEIRO):
        print("‚ùå Coordenadas fora do tabuleiro. Tente novamente.\n")
        continue

    if tabuleiro[linha][coluna] in ("O", "X"):
        print("‚ö†Ô∏è Voc√™ j√° tentou essa posi√ß√£o. Escolha outra.\n")
        continue

    if (linha, coluna) in navios:
        print("üí• Acertou um navio!\n")
        tabuleiro[linha][coluna] = "X"
        acertos += 1
        navios.remove((linha, coluna))  # Remove navio acertado
    else:
        print("üåä √Ågua!\n")
        tabuleiro[linha][coluna] = "O"

    tentativas_restantes -= 1
    print(f"‚è≥ Tentativas restantes: {tentativas_restantes}\n")

# Resultado final
mostrar_tabuleiro()
if acertos == NUM_NAVIOS:
    print("üéâ Parab√©ns! Voc√™ afundou todos os navios!")
else:
    print("üíÄ Fim de jogo! Voc√™ n√£o conseguiu afundar todos os navios.")
